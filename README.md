
# START PROJECT TYPESCRIPT with Backend

## <img src="data:image/png;base64,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" height="50px"> Installare TypeScript

* `npm install types

cript --save-dev`
  * Creare il file `tsconfig.json`
    * `tsc --init`

### Il cuore di un progetto TypeScript

Il file `tsconfig.json` definisce come il compilatore deve comportarsi durante la conversione del codice TypeScript in JavaScript. Questo file consente di controllare vari aspetti della compilazione, come ad esempio:

- **target**: Specifica la versione ECMAScript target per l'output JavaScript (es. es5, es6).
- **module**: Definisce il sistema di moduli da utilizzare (es. commonjs, es2015).
- **strict**: Abilita una serie di impostazioni rigorose per la tipizzazione, migliorando la sicurezza del codice.
- **outDir**: Specifica la cartella in cui salvare i file JavaScript compilati.
- **include** e **exclude**: Determinano quali file includere o escludere dalla compilazione.
- **lib**: Consente di specificare quali librerie di dichiarazione includere nel progetto (es. per il browser, dom).

## <img src="https://user-images.githubusercontent.com/13700/35731649-652807e8-080e-11e8-88fd-1b2f6d553b2d.png" height="50px"> Installare Nodemon

* `npm install --save-dev nodemon`
  * Nel file `nodemon.json`

```
{
    "watch": ["src"],
    "ext": "ts",
    "exec": "npm run build && npm run dev"
}
```

## Creare script per `npm run`
Nel file `package.json`, creare una chiave `scripts`, dando le chiavi all'interno con il nome che vogliamo richiamare in `npm run <nome_chiave>`.

Esempio:

```
"scripts": {
  "build": "tsc --noEmit && tsc --outDir build",
  "dev": "node build/index.js",
  "start": "nodemon"
}
```

- Una dev dependency non finisce sul progetto finale, per installarlo fare `npm i`
- Una dependency viene inserita nel progetto finale

> Se si lavora sul file `package.json`, chiudetelo senza salvare dopo `npm i`.



## <img src="https://humao.gallerycdn.vsassets.io/extensions/humao/rest-client/0.25.1/1660918934840/Microsoft.VisualStudio.Services.Icons.Default" height="50px"> test request http

* dowload estensione rest client API 
  * creare un file requests.http

l'unica sintassi che accetta è il doppio ## per suddividere ogni singola richiesta api 

```
## GetAll
send request
GET http://localhost:3000
Content-Type: application/json
```

# express
### Installa le dipendenze

Installa Express e i tipi per Express:

```bash
npm install express
npm install --save-dev @types/express
```

Installa TypeScript e le dipendenze necessarie per TypeScript:

```bash
npm install --save-dev typescript ts-node @types/node
```

### Configura TypeScript

Inizializza un nuovo file di configurazione TypeScript:

```bash
npx tsc --init
```

Apri il file `tsconfig.json` e modifica le seguenti opzioni:

```json
{
  "compilerOptions": {
    "target": "ES6",                           
    "module": "commonjs",                       
    "strict": true,                             
    "esModuleInterop": true,                    
    "skipLibCheck": true,                       
    "forceConsistentCasingInFileNames": true,   
    "outDir": "./dist",                         
    "rootDir": "./src"                          
  }
}
```

### Crea la Struttura delle Cartelle

Crea le cartelle `src` e `dist`:

ed inserire i file ts


### Crea il File di Ingresso

All'interno della cartella `src`, crea un file `index.ts`:

```typescript
import express, { Request, Response } from 'express';

const app = express();
const port = 3000;

app.get('/', (req: Request, res: Response) => {
  res.send('Hello, TypeScript with Express!');
});

app.listen(port, () => {
  console.log(`Server is running on http://localhost:${port}`);
});
```

### Aggiungi Script al `package.json`

Modifica il tuo `package.json` per includere script di build e start con aggiunzione di nodemon:

```json
{
  "scripts": {
    "build": "tsc --noEmit && tsc --outDir build",
    "dev": "npm run build && node build/index.js",
    "start": "nodemon"
  },
}
```

### Avvia il Server

Puoi ora avviare il server in modalità sviluppo o produzione.

Per avviare il server in modalità sviluppo (con `ts-node`):

```bash
npm run start
```

grazie a nodemon il server si riavvierà in automatico ogni qual volta si salveranno i cambiamenti


## POSTGRESQL VERCEL

+ 1. su vercel aprire un db su storage di postgre

+ 2. istallare postgres di vercell nel tuo progetto
```bash
npm i @vercell/postgres
```

+ 3. sul file js o ts in cui crei le API creare il collegamento con il db

```javascript
const client = createClient({
    connectionString: "COPIARE IL CODICE QUICK START (rimuovere l'inizio pre stringa psql e la fine della stringa ?sslmode=require)"
})

client.connect();
```